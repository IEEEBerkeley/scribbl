class Letters {
	constructor(letter) {
		this.letter = letter;
		this.hider = '_ ';
		this.displayed = this.hider;
		this.revealed = false;
	}

	reveal() {
		this.displayed = this.letter;
		this.revealed = true;
	}
}

var wordDisplayTag = document.getElementById('word-text');
var drawingTime = 15; // In seconds
var wordInterval;

function displayWord(tag, word) {
	tag.textContent = '';
	for (let i = 0; i < word.length; i++) tag.textContent += word[i].displayed;
}


function wordFill() {
    cancel();
    clearInterval(wordInterval);
	wordDisplayTag.textContent = '';
	const currWord = [];
	const randomWordIndex = Math.floor(Math.random() * words.length);
	const randomWord = words[randomWordIndex];

	words.splice(randomWordIndex, 1);

	for (let i = 0; i < randomWord.length; i++) currWord.push(new Letters(randomWord[i]));

	const revealInterval = Math.floor(drawingTime / currWord.length); // In seconds
	var counter = 0;
	function revealLetter() {
		const randomLetterIndex = Math.floor(Math.random() * currWord.length);
		const randomLetter = currWord[randomLetterIndex];
		if (!(randomLetter.revealed)) {
			randomLetter.reveal();
			counter++;
		}

		displayWord(wordDisplayTag, currWord);

		if (counter == randomWord.length) {
			clearInterval(wordInterval);
			console.log('all done');
			wordDisplayTag.textContent = 'The word was: '.concat(randomWord);
		}
	}


	displayWord(wordDisplayTag, currWord);

    wordInterval = setInterval(revealLetter, 1000);
}

function cancel(){
    clearInterval(wordInterval);
}


var words = [
	'world',
	'tea',
	'mochi',
	'stickers',
	'candy',
	'berkeley',
	'bears',
	'computer',
	'keyboard',
	'mouse',
	'cup',
	'bottle',
	'chips',
	'napkin',
	'earbuds',
	'mirror',
	'shadow',
	'photo',
	'horse',
	'cat',
	'dog',
	'cow',
	'goat',
	'corgi',
	'squirrel',
	'unicorn',
	'stairs',
	'ladder',
	'phone',
	'book',
	'driver',
	'nail',
	'neck',
	'hand',
	'harp',
	'football',
	'soccer',
	'tennis',
	'swimmer',
	'golf',
	'ticket',
	'magic',
	'snake',
	'braces',
	'crutches',
	'cast',
	'singer',
	'desk',
	'cape',
	'hero',
	'fish',
	'dancer',
	'pie',
	'cupcake',
	'teacher',
	'student',
	'star',
	'adult',
	'airplane',
	'apple',
	'pear',
	'peach',
	'baby',
	'backpack',
	'bathtub',
	'bird',
	'button',
	'carrot',
	'chess',
	'circle',
	'clock',
	'clown',
	'coffee',
	'comet',
	'compass',
	'diamond',
	'drums',
	'ears',
	'elephant',
	'feather',
	'fire',
	'garden',
	'gloves',
	'grapes',
	'hammer',
	'highway',
	'spider',
	'kitchen',
	'knife',
	'map',
	'maze',
	'money',
	'rich',
	'needle',
	'onion',
	'painter',
	'perfume',
	'prison',
	'potato',
	'rainbow',
	'record',
	'robot',
	'rocket',
	'rope',
	'sandwich',
	'shower',
	'spoon',
	'sword',
	'teeth',
	'tongue',
	'triangle',
	'umbrella',
	'vacuum',
	'vampire',
	'werewolf',
	'water',
	'window',
	'worm',
	'bones',
	'cannon',
	'whistle',
	'brick',
	'volcano',
	'stamp',
	'flowers',
	'boat',
	'rain',
	'stretch',
	'farm',
	'soap',
	'tape',
	'suit',
	'tie',
	'egg',
	'bucket',
	'monkey',
	'shark',
	'pizza',
	'couch',
	'skirt',
	'cactus',
	'milk',
	'cookie',
	'bait',
	'boil',
	'wax',
	'comb',
	'mask',
	'stick',
	'bat',
	'cloud',
	'sneeze',
	'sick',
	'you',
	'saw',
	'shoe',
	'staple',
	'butter',
	'bell',
	'sponge',
	'train',
	'mail',
	'thunder',
	'cheese',
	'turkey',
	'snow',
	'mountain',
	'giraffe',
	'roof',
	'drawing',
	'fishing',
	'penguin',
	'hat',
	'balloon',
	'earring',
	'garbage',
	'ketchup',
	'nametag',
	'waffle',
	'music',
	'concert',
	'comic',
	'check',
	'zebra',
	'zit',
	'yolk',
	'quilt',
	'open',
	'lemon',
	'kiss',
	'jar',
	'archer',
	'bow',
	'igloo',
	'lion',
	'lake',
	'idea',
	'wedding',
	'bridge',
	'bunny',
	'truck',
	'grass',
	'door',
	'bread',
	'bowl',
	'bracelet',
	'lollipop',
	'moon',
	'doll',
	'orange',
	'bike',
	'pen',
	'shell',
	'corn',
	'chicken',
	'purse',
	'glasses',
	'turtle',
	'pencil',
	'dinosaur',
	'head',
	'snowman',
	'ant',
	'cupcake',
	'chair',
	'leaf',
	'bed',
	'snail',
	'baby',
	'bus',
	'cherry',
	'crab',
	'branch',
	'pretzel',
	'brain',
	'knee',
	'owl',
	'gate',
	'snowball',
	'flute',
	'suitcase',
	'pajamas',
	'hook',
	'fries',
	'bees',
	'tv',
	'toe',
	'chalk',
	'boot',
	'ring',
	'plate',
	'pool',
	'burger',
	'toast',
	'salt',
	'pepper',
	'ski',
	'dance',
	'chair',
	'table',
	'scissors',
	'car',
	'kick',
	'camera',
	'sleep',
	'pillow',
	'doll',
	'stop',
	'draw',
	'wave',
	'brush',
	'cereal',
	'pasta',
	'baseball',
	'watch',
	'speaker',
	'glasses',
	'eraser',
	'paper',
	'letter',
	'gum',
	'crown',
	'sun',
	'ghost',
	'banana',
	'bug',
	'book',
	'light',
	'tree',
	'lips',
	'slide',
	'socks',
	'smile',
	'swing',
	'coat',
	'heart',
	'ocean',
	'kite',
	'mouth',
	'duck',
	'eyes',
	'mouse',
	'ball',
	'house',
	'star',
	'nose',
	'bed',
	'jacket',
	'shirt',
	'beach',
	'egg',
	'face',
	'cone',
	'web',
	'tutu',
	'lock',
	'candle',
	'dandruff',
	'dentist',
	'bubble',
	'towel',
	'sink',
	'toilet',
	'shampoo',
	'mohawk',
	'mask',
	'tire',
	'loop',
	'lung',
	'paint',
	'camp',
	'cane',
	'safe',
	'wink',
	'police',
	'sign',
	'eyebrow',
	'bookmark',
	'blonde',
	'pot',
	'canada',
	'usa',
	'goatee',
	'unicycle',
	'pole',
	'locker',
	'camel',
	'thorn',
	'cowboy',
	'vine',
	'kayak',
	'poster',
	'space',
	'power',
	'sledding',
	'horn',
	'bacon',
	'saturn',
	'dress',
	'elbow',
	'piano',
	'box',
	'stapler',
	'pinata',
	'dominos',
	'ticket',
	'juggle',
	'south',
	'afro',
	'bus',
	'north',
	'winner',
	'claw',
	'fan',
	'broom',
	'hair',
	'helmet',
	'wind',
	'pants',
	'tattoo',
	'freckle',
	'pirate',
	'river',
	'square',
	'hexagon',
	'pentagon',
	'cube',
	'sphere',
	'sunrise',
	'sunset',
	'fountain',
	'belt',
	'ladybug',
	'kitten',
	'cry',
	'graph',
	'goldfish',
	'arrow',
	'barber',
	'tornado',
	'puddle',
	'ruler',
	'dart',
	'elevator',
	'pig',
	'swimsuit',
	'bikini',
	'shorts',
	'mow',
	'window',
	'popcorn',
	'postcard',
	'beanbag',
	'dice',
	'moon',
	'floss',
	'panda',
	'pizza',
	'bandaid',
	'sky',
	'coconut',
	'bowling',
	'flag',
	'fridge',
	'freezer',
	'toaster',
	'starfish',
	'vote',
	'fang',
	'tomato',
	'can',
	'crab',
	'smoke',
	'mushroom',
	'shadow',
	'happy',
	'hoe',
	'barbwire',
	'shovel',
	'puzzle',
	'pocket',
	'drool',
	'green',
	'oval',
	'key',
	'wings',
	'braid',
	'tail',
	'curtain',
	'dragon',
	'peace',
	'straw',
	'scarf',
	'acorn',
	'pearl',
	'volcano',
	'leash',
	'forest',
	'pyramid',
	'coin',
	'trophy',
	'bald',
	'shoelace',
	'beard',
	'mustache',
	'santa',
	'eyelash',
	'statue',
	'dream',
	'mermaid',
	'island',
	'clown',
	'octopus',
	'disco',
	'needle',
	'bun'
];
